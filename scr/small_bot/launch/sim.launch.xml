<launch>

      <let name = "urdf_path" value = "$(find-pkg-share small_bot)/design/my_bot.urdf.xacro"/>

      <let name = "robot_rviz_path" value = "$(find-pkg-share small_bot)/config/odom_fix.rviz"/>

      <node pkg = "robot_state_publisher" exec = "robot_state_publisher">
          <param name = "robot_description" value = "$(command 'xacro $(var urdf_path)')"/>
      </node>

      <!-- <node pkg = "joint_state_publisher_gui" exec = "joint_state_publisher_gui" output="screen"/> -->

      <!-- Include Gazebo -->
      <include file="$(find-pkg-share gazebo_ros)/launch/gazebo.launch.py">
        <arg name = "world" value = "$(find-pkg-share small_bot)/worlds/house_world.sdf"/>
        <arg name="use_sim_time" value="false"/>
      </include>

      <!-- Spawn robot into Gazebo -->
      <node pkg="gazebo_ros" exec="spawn_entity.py"
            args="-topic robot_description -entity my_bot"
            output="screen"/>


    
      <node pkg = "rviz2" exec = "rviz2" output = "screen"
            args = "-d $(var robot_rviz_path)"/>

</launch>
